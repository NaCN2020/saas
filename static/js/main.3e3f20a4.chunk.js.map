{"version":3,"sources":["pages/translate/translate.js","pages/home/home.js","pages/markdown/markdown.js","pages/invoice/invoice.js","App.js","index.js"],"names":["Translate","props","handleResize","e","setState","width","target","innerWidth","height","innerHeight","file","decodeURIComponent","location","search","substr","length","state","window","origin","translation","translate","bind","addEventListener","this","axios","get","params","then","response","data","alert","catch","console","log","value","transResult","i","className","style","backgroundColor","BarsOutlined","AppstoreOutlined","FontSizeOutlined","FileOutlined","AppleOutlined","AndroidOutlined","onChange","handleTextareaChange","readOnly","onClick","handelClick","React","Component","Home","handelResize","to","pathname","Markdown","mdParser","MarkdownIt","text","post","error","message","renderHTML","render","handleEditorChange","marginTop","textAlign","type","htmlType","handleClick","Invoice","ocrResult","formRef","createRef","generateForm","fileName","ocrType","status","dic","s","split","temp","keys","k","push","appContent","map","Item","key","name","label","rules","formItems","current","setFieldsValue","success","margin","border","paddingRight","ref","labelCol","span","App","exact","path","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3e3f20a4.chunk.js","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"./translate.css\"\nimport {AppstoreOutlined,BarsOutlined,AndroidOutlined,AppleOutlined,FileOutlined,FontSizeOutlined} from \"@ant-design/icons\"\n\nclass Translate extends React.Component{\n    constructor(props) {\n        super(props);\n        let file = decodeURIComponent(this.props.location.search);\n        file = file.substr(1, file.length);\n        this.state = {\n            width: window.innerWidth,\n            height: window.innerHeight,\n            file: file,\n            origin: \"\",\n            translation: \"\",\n        };\n        this.translate = this.translate.bind(this);\n    }\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.handleResize.bind(this));\n        if(this.state.file){\n            axios.get(\"http://101.200.153.106:3389/translate\", {\n                params: {file: this.state.file}\n            }).then(response => {\n                if(typeof response.data===\"string\"){\n                    alert(response.data);\n                }\n                else {\n                    this.setState({\n                        origin: response.data[\"trans_result\"][0][\"src\"],\n                        translation: response.data[\"trans_result\"][0][\"dst\"],\n                    });\n                }\n            }).catch(e => {\n                console.log(e);\n            })\n        }\n    }\n    handleResize = e => {\n        this.setState({\n            width: e.target.innerWidth,\n            height: e.target.innerHeight,\n        });\n    };\n    handleTextareaChange(e){\n        this.setState({\n            origin: e.target.value,\n            translation: \"\",\n            });\n    }\n    translate() {\n        if(this.state.origin.length===0){\n            return ;\n        }\n        axios.get(\"http://101.200.153.106:3389/translate\", {\n            params: {\n                origin: this.state.origin\n            }})\n            .then(response => {\n                if (typeof response.data===\"string\"){\n                    alert(response.data)\n                }else {\n                    const transResult = response.data[\"trans_result\"];\n                    let translation = \"\";\n                    for(let i=0;i<transResult.length;i++){\n                        translation += transResult[i][\"dst\"]+\"\\n\";\n                    }\n                    this.setState({\n                        translation: translation,\n                    });\n                }\n            })\n            .catch( e=> {\n                console.log(e);\n            });\n    }\n    handelClick(){\n        this.translate();\n    }\n    render(){\n        return (\n            <div className={\"fatherBox\"}\n                 style={{height: this.state.height,\n                     width: this.state.width,\n                     backgroundColor: \"rgb(255,255,255)\",}}>\n                <div className={\"head\"}>\n                    <span><BarsOutlined /></span>\n                    <div className={\"head-title\"}>\n                        <span>R</span><span>e</span><span>a</span><span>c</span><span>t</span><span>Translate</span>\n                    </div>\n                    <span><AppstoreOutlined /></span>\n                </div>\n                <div className={\"extensions\"}>\n                    <div><span><FontSizeOutlined /></span><span>Text</span></div>\n                    <div><span><FileOutlined /></span><span>File</span></div>\n                    <div><span><AppleOutlined /></span><span>IOS</span></div>\n                    <div><span><AndroidOutlined /></span><span>Android</span></div>\n                    <div><span>Click to download App</span></div>\n                </div>\n                <div className={\"translate\"}>\n                    <div className={\"translate-options\"}>\n                        <span style={{width: this.state.width/2-20,}}>Original Text</span>\n                        <span style={{width: this.state.width/2-20,}}>Translation Text</span>\n                    </div>\n                    <div className={\"translate-body\"}>\n                        <textarea style={{width: this.state.width/2-20, }}\n                                  className={\"translateInput\"}\n                                  onChange={e=>this.handleTextareaChange(e)}\n                                  value={this.state.origin}/>\n                        <textarea style={{width: this.state.width/2-21, }}\n                                  className={\"translateResult\"}\n                                  readOnly={true}\n                                  value={this.state.translation}/>\n                    </div>\n                </div>\n                <div className={\"submit\"}>\n                    <button className={\"translateBtn\"} onClick={()=>this.handelClick()}>translate</button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Translate;","import React from \"react\";\nimport \"./home.css\"\nimport {Link} from \"react-router-dom\";\n\n\nexport default class Home extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            width: window.innerWidth,\n            height: window.innerHeight,\n        }\n    }\n\n    componentDidMount() {\n        window.addEventListener(\"resize\", ()=>this.handelResize());\n    }\n    handelResize(){\n        this.setState({\n            width: window.innerWidth,\n            height: window.innerHeight,\n        });\n    }\n    render(){\n        return (\n            <div className={\"home\"} style={{width: this.state.width*0.99, height: this.state.height*0.99}}>\n                <ul className={\"apps\"}>\n                    <li><Link to={{pathname: \"/translate\"}}><span>Translate</span></Link></li>\n                    <li><Link to={{pathname: \"/markdown\"}}><span>Markdown</span></Link></li>\n                    <li><Link to={{pathname: \"/invoice\"}}><span>Invoice</span></Link></li>\n                </ul>\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport \"./markdown.css\"\nimport MdEditor from 'react-markdown-editor-lite'\nimport MarkdownIt from 'markdown-it'\nimport 'react-markdown-editor-lite/lib/index.css';\nimport axios from \"axios\";\nimport {Button, message} from \"antd\";\n\nexport default class Markdown extends React.Component{\n    constructor(props) {\n        super(props);\n        let file = decodeURIComponent(this.props.location.search);\n        file = file.substr(1, file.length);\n        this.state = {\n            mdParser: new MarkdownIt(),\n            file: file,\n            value: \"\"\n        };\n    }\n    componentDidMount() {\n        if(this.state.file) {\n            axios.get(\"http://101.200.153.106:3389/markdown\", {\n                params: {file: this.state.file}\n            }).then(response => {\n                this.setState({\n                    value: response.data\n                });\n            }).catch(e => {\n                console.log(e);\n            })\n        }\n    }\n    handleEditorChange (e) {\n        this.setState({\n            value: e.text,\n        });\n    }\n    handleClick(){\n        axios.post(\"http://101.200.153.106:3389/markdown\",\n            {params: {file: this.state.file, data: this.state.value}})\n            .catch(function (error) {\n                message.error(error);\n            });\n    }\n    render(){\n        return (\n            <div>\n                <div style={{height: 400}}>\n                    <MdEditor style={{width: \"100%\", height:\"100%\"}}\n                              value={this.state.value}\n                              renderHTML={(text) => this.state.mdParser.render(text)}\n                              onChange={(e)=>this.handleEditorChange(e)}\n                    />\n                </div>\n                <div style={{marginTop: 20, textAlign: \"center\"}}>\n                    <Button type=\"primary\" htmlType=\"submit\" onClick={()=>this.handleClick()}>Submit</Button>\n                </div>\n            </div>\n        );\n    }\n\n}","import React from \"react\";\nimport \"./invoice.css\"\nimport \"antd/dist/antd.css\";\nimport axios from \"axios\"\nimport {Form, Input, message} from \"antd\";\n\nexport default class Invoice extends React.Component{\n    constructor(props) {\n        super(props);\n        let file = decodeURIComponent(this.props.location.search);\n        file = file.substr(1, file.length);\n        this.state = {\n            width: window.innerWidth,\n            height: window.innerHeight,\n            file: file,\n            ocrResult: \"\",\n        };\n        this.formRef = React.createRef();\n        this.generateForm = this.generateForm.bind(this);\n    }\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.handleResize.bind(this));\n        axios.get(\"http://101.200.153.106:3389/ocr\", {\n            params:{fileName: this.state.file, ocrType:\"receipt\"}\n        }).then(response => {\n            console.log(response.status);\n            let data = \"\";\n            for(let i=0;i<response.data[\"trans_result\"].length;i++){\n                data += response.data[\"trans_result\"][i][\"dst\"] + \"\\n\";\n            }\n            this.generateForm(data);\n        }).catch(e => {\n            console.log(e);\n        })\n    }\n    handleResize = e => {\n        this.setState({\n            width: e.target.innerWidth,\n            height: e.target.innerHeight,\n        });\n    };\n    generateForm(data){\n        // 生成表单\n        let dic = {};\n        const s = data.split(\"\\n\");\n        for(let i=0;i<s.length-1;i++){\n            const temp = s[i].split(':');\n            dic[temp[0]] = temp[1];\n        }\n        let keys = []; // 将表单字典的键保存到列表\n        for(let k in dic){\n            keys.push(k);\n        }\n        const appContent = keys.map(k => {\n            // 将列表映射到表单\n            return (\n                <Form.Item key={k} name={k} label={k} rules={[{}]}>\n                    <Input/>\n                </Form.Item>);\n        });\n        this.setState({\n            formItems: appContent,\n        });\n        this.formRef.current.setFieldsValue(dic);\n        message.success(\"autofill complete.\");\n    }\n    render(){\n        return (\n            <div style={{height: this.state.height,\n                width: this.state.width,\n                backgroundColor: \"rgb(255,255,255)\",}}>\n                <div>\n\n                </div>\n                <div style={{width: 0.6*this.state.width,\n                             margin: \"50px auto\",\n                             border: \"1px solid red\",\n                             paddingRight: 10}}>\n                    <Form ref={this.formRef} labelCol={{span:10}}>\n                        {this.state.formItems}\n                    </Form>\n                </div>\n            </div>\n        );\n    }\n\n}","import React from 'react';\nimport {HashRouter as Router, Route} from \"react-router-dom\"\nimport Translate from \"./pages/translate/translate\";\nimport Home from \"./pages/home/home\";\nimport Markdown from \"./pages/markdown/markdown\";\nimport Invoice from \"./pages/invoice/invoice\";\n\n\nfunction App() {\n  return (\n      <Router>\n          <Route exact path={\"/\"} component={Home}/>\n          <Route path={\"/translate\"} component={Translate}/>\n          <Route path={\"/markdown\"} component={Markdown}/>\n          <Route path={\"/invoice\"} component={Invoice}/>\n      </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}